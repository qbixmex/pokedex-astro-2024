---
import Divider from '../components/divider.astro';
import MainLayout from '../layouts/main-layout.astro';
import { getPokemonList } from '../services/get-pokemon-list';

const pageTitle = 'Pokemon List';

const styles = {
	mainWrapper: 'container px-5',
	heading: 'text-5xl text-purple-500/80 font-bold text-center mt-8',
	pokemonWrapper: 'flex flex-wrap gap-x-4',
	item: 'text-md capitalize font-bold text-green-500',
};

const data = await getPokemonList();
// const response = await fetch('https://pokeapi.co/api/v2/pokemon');
// const data = await response.json();
---

<MainLayout
	pageTitle={pageTitle}
	metaDescription="A list of the most popular pokemon characters"
	metaRobots="index, follow"
>
	<div class={styles.mainWrapper}>
		<h1 class={styles.heading}>{pageTitle}</h1>

		<Divider />

		<section class={styles.pokemonWrapper}>
			{data.results?.map((pokemon) => (
				<p class={styles.item}>{pokemon.name}</p>
			))}
		</section>
	</div>
</MainLayout>
